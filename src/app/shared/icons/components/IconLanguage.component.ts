import { Component, ElementRef, Input, ViewChild } from '@angular/core';

@Component({
  selector: 'icon-language',
  template: `
    <svg
      #languageIcon
      data-es="false"
      class="language-icon"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 329.91 295.86">
      <g id="msg">
        <path d="M329.88,70.05a58.51,58.51,0,0,0-.55-9.27C323.45,24.28,295.45.2,258.63.08c-31.08-.1-62.16,0-93.24,0v0c-32.12,0-64.23-.22-96.34.06C30.5.48,0,31.59,0,70.21q0,44.21,0,88.41c0,31.14,18.3,56.95,47.74,67.08,3.32,1.15,3.83,2.41,2.94,5.81-4.85,18.45-9.32,37-14,55.49-.8,3.13-.85,5.86,2,7.84,3.14,2.21,5.82.39,8.5-1.28q48.95-30.51,97.88-61a18.66,18.66,0,0,1,10.57-3c34.86.11,69.72.24,104.58,0,39.1-.27,69.72-31.42,69.74-70.57Q329.93,114.51,329.88,70.05ZM61.94,260.39c2.28-9.34,4.35-17.92,6.47-26.49,1.58-6.35,3.2-12.68,4.82-19,1.71-6.67.82-8.14-6-9.74-16.16-3.78-28-13.15-35.59-27.84a48.36,48.36,0,0,1-5.6-22.45c0-27.77-.14-55.55,0-83.32S49.32,19.88,77.22,19.71q88.23-.53,176.47,0c27.91.15,51.07,23.83,51.28,51.69.21,27.3.14,54.61,0,81.91-.11,29.85-23.15,53-53.1,53.22-32,.21-64,.14-96,0a23.22,23.22,0,0,0-13.09,3.82c-25.46,16-51,31.79-76.6,47.64C65.09,258.66,63.89,259.29,61.94,260.39Z" />
      </g>
      <g id="es">
        <path d="M121.46,136.61H96V83.81q0-6.45,3.75-10.2c2.49-2.5,5.9-3.75,10.2-3.75a47.79,47.79,0,0,1,6.75.45,42.19,42.19,0,0,1,4.8.9ZM96,94.46h25.5v65.4a42.19,42.19,0,0,1-4.8.9,47.79,47.79,0,0,1-6.75.45c-4.3,0-7.71-1.25-10.2-3.75S96,151.56,96,147.26Zm14-4V69.86h49.5a18.94,18.94,0,0,1,2.7,9.9q0,5.55-2.4,8.1a8.64,8.64,0,0,1-6.6,2.55Zm0,34.35v-20.4h45.3a18.89,18.89,0,0,1,1.87,4.2,18.46,18.46,0,0,1,.83,5.7q0,5.55-2.4,8a8.78,8.78,0,0,1-6.6,2.48Zm0,36.45v-20.7H160a18.37,18.37,0,0,1,1.87,4.35,19.93,19.93,0,0,1,.83,5.85c0,3.7-.81,6.37-2.4,8a8.77,8.77,0,0,1-6.6,2.48Z" />
        <path d="M206.8,142.16q7.35,0,10.35-2.4t3-5.4a5.52,5.52,0,0,0-2.4-4.73,26.62,26.62,0,0,0-6.75-3.22l-6.3-2.1a123.15,123.15,0,0,1-15.37-6.38,27.45,27.45,0,0,1-10.43-8.77q-3.75-5.4-3.75-14.1,0-12.75,9.83-20.4T212.5,67A65.35,65.35,0,0,1,228,68.66a25.17,25.17,0,0,1,10.65,5,10.91,10.91,0,0,1,3.9,8.63,12.1,12.1,0,0,1-1.8,6.6,18.23,18.23,0,0,1-4.35,4.8A33.9,33.9,0,0,0,227.5,90a44.39,44.39,0,0,0-12.15-1.57q-6.75,0-9.9,1.87t-3.15,4.73a4.32,4.32,0,0,0,2,3.67,21.67,21.67,0,0,0,5.77,2.63l8,2.55q14.25,4.5,21.75,11.62t7.5,19.13a25.29,25.29,0,0,1-10.12,20.77q-10.12,8-29.48,8a64.84,64.84,0,0,1-16.5-2,28,28,0,0,1-11.7-5.85,12.24,12.24,0,0,1-4.35-9.45,11.27,11.27,0,0,1,2.55-7.43,19.42,19.42,0,0,1,5.55-4.72,40.83,40.83,0,0,0,10.28,5.7A35.79,35.79,0,0,0,206.8,142.16Z" />
      </g>
      <g id="en">
        <path d="M110.88,136.61H85.38V83.81q0-6.45,3.75-10.2t10.2-3.75a47.79,47.79,0,0,1,6.75.45,42.19,42.19,0,0,1,4.8.9ZM85.38,94.46h25.5v65.4a42.19,42.19,0,0,1-4.8.9,47.79,47.79,0,0,1-6.75.45q-6.45,0-10.2-3.75t-3.75-10.2Zm14-4V69.86h49.5a18.7,18.7,0,0,1,2.7,9.9q0,5.55-2.4,8.1a8.63,8.63,0,0,1-6.6,2.55Zm0,34.35v-20.4h45.3a18.7,18.7,0,0,1,2.7,9.9q0,5.55-2.4,8a8.77,8.77,0,0,1-6.6,2.48Zm0,36.45v-20.7h50.1a18,18,0,0,1,1.88,4.35,19.93,19.93,0,0,1,.82,5.85q0,5.55-2.4,8a8.77,8.77,0,0,1-6.6,2.48Z" />
        <path d="M249.93,121.16v36.45a15.34,15.34,0,0,1-6.07,3.15,36.11,36.11,0,0,1-20-.45q-5-1.65-8.1-7.95l-14.85-30.3c-1-2.1-1.93-4.08-2.77-5.93s-1.68-3.77-2.48-5.77-1.7-4.2-2.7-6.6l-25.35,5.55V74.51A12.55,12.55,0,0,1,174,70a28.33,28.33,0,0,1,9.3-1.5,32.41,32.41,0,0,1,10.58,1.72q5,1.72,8,7.88l15,30.3q1.5,3,2.78,5.85c.84,1.9,1.7,3.85,2.55,5.85s1.72,4.2,2.62,6.6Zm-82.35-20.4h24.15q.6,6.9.83,13.2t.22,11.92v34.88c-1,.19-2.62.45-4.87.75a51.66,51.66,0,0,1-6.83.45q-7.5,0-10.5-2.63t-3-9.37Zm82.35,28.5H225.78q-.9-10.5-1-19.35t-.08-16.8V69.41q1.65-.3,5-.75a49.91,49.91,0,0,1,6.75-.45q7.5,0,10.5,2.62t3,9.38Z" />
      </g>
    </svg>`,
  styles: [`
    .language-icon {
      width: 100%;
      height: 100%;
      #msg,#es,#en {
        transition: transform 350ms cubic-bezier(1, -0.32, 0, 1.44);
      }
      #en {transform: translateX(-100%);}
      #es {transform: translateX(0%);}
    }
    .language-icon[data-es="false"] {
      #en {transform: translateX(0%);}
      #es {transform: translateX(100%);}
    }
  `]
})

export class IconLanguageComponent {

  @ViewChild('languageIcon') refLanguageIcon!: ElementRef<SVGElement>

  @Input() set _isES(isES: boolean) {
    setTimeout(
      () => this.refLanguageIcon.nativeElement
        .setAttribute('data-es', `${!isES}`)
      , 0
    );
  }

}
